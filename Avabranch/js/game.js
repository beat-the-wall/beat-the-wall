function Game(t){this.canvas=t,this.ctx=t.getContext("2d"),this.objects=[],this.prevTime=Date.now(),this.speed=4,this.paused=!1,this.play=!0,this.timeTillLevel=1e4,this.timer=0,this.update=function(t){this.play&&(this.timeDelta=t-this.prevTime,this.prevTime=t,isNaN(this.timeDelta)?requestAnimFrame(this.update.bind(this)):(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.physics(this.timeDelta),this.draw(),requestAnimFrame(this.update.bind(this))))},this.physics=function(t){this.timer+=t,this.timer>this.timeTillLevel&&(this.timer=0,this.objects.spawner&&(this.objects.spawner.level+=1),this.objects.power_spawn&&this.objects.power_spawn.spawn());for(var s=0;s<this.objects.length;s++)this.objects[s].physics(t)},this.draw=function(){for(var t=0;t<this.objects.length;t++)this.objects[t].draw(this.ctx)},this.addObject=function(t,s){this.objects[t]=s,this.objects.push(s)}}