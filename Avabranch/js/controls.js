function Controls(){localStorage.keyMaps?this.keyMaps=JSON.parse(localStorage.keyMaps):this.keyMaps={1:[["A","F"],["A","F"],["A","F"],["A","F"]],4:[["A","S"],["D","F"],["J","K"],["L",";"]]},this.colors=["#E67373","#ECEC85","#9DE970","#708EE9"],this.showControls=function(){var e=document.getElementById("controls");e.innerHTML="";for(var t=0;t<this.keyMaps[4].length;t++)for(var o=this.keyMaps[4][t],n=this.colors[t],s=0;s<o.length;s++){var r=document.createElement("span");function l(e){if(selecting)alert("please type either a number or letter");else{selecting=!0,this.innerHTML="_";var t=this,o=window.onkeydown;global_controls.keyMaps[4][t.my.row][t.my.col]="",window.onkeydown=function(e){var n=new RegExp("\\w"),s=String.fromCharCode(e.which);n.test(s)?global_controls.notUsed(s)?(t.innerHTML=s,global_controls.keyMaps[4][t.my.row][t.my.col]=s,localStorage.keyMaps=JSON.stringify(global_controls.keyMaps),window.onkeydown=o,selecting=!1):alert("That key is already in use,\ntry again"):alert("please type either a number or letter")}}}r.setAttribute("class","key"),r.setAttribute("style","background-color:"+n+";"),r.innerHTML=o[s],r.my={},r.my.row=t,r.my.col=s,r.onclick=l,e.appendChild(r)}},this.notUsed=function(e){return-1==this.keyMaps[4].join("").indexOf(e)},this.reset=function(){this.keyMaps={1:[["A","F"],["A","F"],["A","F"],["A","F"]],4:[["A","S"],["D","F"],["J","K"],["L",";"]]},localStorage.keyMaps=JSON.stringify(global_controls.keyMaps),this.showControls()},this.showControls()}