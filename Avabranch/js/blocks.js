function BlockSpawner(s,t,h){this.game=s,this.blocks=[],this.speed=t||4,this.clearCount=200,this.level=h||1,this.draw=function(s){for(var t=0;t<this.blocks.length;t++)this.blocks[t].draw(s)},this.physics=function(s){if(this.blocks.length>=this.clearCount)for(var t=this.blocks.length-1;t>=0;t--)if(this.blocks[t].y>canvas.height){this.blocks.splice(0,t);break}if(100*Math.random()>100-this.level/2-1){var h=Math.random()*canvas.width,i=90*Math.random()+10,l=90*Math.random()+10,c=-l;this.blocks.push(new Block(h,c,i,l,this.speed))}for(t=0;t<this.blocks.length;t++)this.blocks[t].physics(s)}}function Block(s,t,h,i,l){this.x=s||0,this.y=t||0,this.w=h||20,this.h=i||20,this.speed=l||4,this.draw=function(s){s.fillStyle="#323232",s.fillRect(this.x,this.y,this.w,this.h)},this.physics=function(s){this.y+=this.speed*s*.05}}